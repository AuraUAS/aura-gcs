<html>
  <head>
    <title>Aura Map</title>
    <link rel="stylesheet" href="leaflet/leaflet.css">
    <link rel="stylesheet" href="leaflet/plugins/leaflet.contextmenu.css">
    <link rel="stylesheet" href="leaflet/plugins/leaflet.draw.css">
    <link rel="stylesheet" href="map.css">
    <link rel="stylesheet" href="../modal.css">
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="leaflet/leaflet.js"></script>
    
    <script src="../js/jquery-3.2.1.js"></script>
    <link rel="stylesheet" href="../js/jquery-ui-1.12.1/jquery-ui.css">
    <link rel="stylesheet" href="../js/jquery-ui-1.12.1/jquery-ui.theme.css">
    <script src="../js/jquery-ui-1.12.1/jquery-ui.js"></script>
    
    <script src="leaflet/plugins/leaflet.contextmenu.js"></script>
    <script src="leaflet/plugins/leaflet-bing-layer.js"></script>
    
    <script src="leaflet/plugins/Leaflet.draw.js"></script>
    <script src="leaflet/plugins/Leaflet.Draw.Event.js"></script>
    <script src="leaflet/plugins/Control.Draw.js"></script>
    <script src="leaflet/plugins/Leaflet.draw.js"></script>
    <script src="leaflet/plugins/Leaflet.Draw.Event.js"></script>

    <script src="leaflet/plugins/edit/handler/Edit.Poly.js"></script>
    <script src="leaflet/plugins/edit/handler/Edit.SimpleShape.js"></script>
    <script src="leaflet/plugins/edit/handler/Edit.Rectangle.js"></script>
    <script src="leaflet/plugins/edit/handler/Edit.Marker.js"></script>
    <script src="leaflet/plugins/edit/handler/Edit.CircleMarker.js"></script>
    <script src="leaflet/plugins/edit/handler/Edit.Circle.js"></script>

    <script src="leaflet/plugins/draw/handler/Draw.Feature.js"></script>
    <script src="leaflet/plugins/draw/handler/Draw.Polyline.js"></script>
    <script src="leaflet/plugins/draw/handler/Draw.Polygon.js"></script>
    <script src="leaflet/plugins/draw/handler/Draw.SimpleShape.js"></script>
    <script src="leaflet/plugins/draw/handler/Draw.Rectangle.js"></script>
    <script src="leaflet/plugins/draw/handler/Draw.Circle.js"></script>
    <script src="leaflet/plugins/draw/handler/Draw.Marker.js"></script>
    <script src="leaflet/plugins/draw/handler/Draw.CircleMarker.js"></script>

    <script src="leaflet/plugins/ext/TouchEvents.js"></script>
    <script src="leaflet/plugins/ext/LatLngUtil.js"></script>
    <script src="leaflet/plugins/ext/GeometryUtil.js"></script>
    <script src="leaflet/plugins/ext/LineUtil.Intersect.js"></script>
    <script src="leaflet/plugins/ext/Polyline.Intersect.js"></script>
    <script src="leaflet/plugins/ext/Polygon.Intersect.js"></script>

    <script src="leaflet/plugins/Control.Draw.js"></script>
    <script src="leaflet/plugins/Tooltip.js"></script>
    <script src="leaflet/plugins/Toolbar.js"></script>

    <script src="leaflet/plugins/draw/DrawToolbar.js"></script>
    <script src="leaflet/plugins/edit/EditToolbar.js"></script>
    <script src="leaflet/plugins/edit/handler/EditToolbar.Edit.js"></script>
    <script src="leaflet/plugins/edit/handler/EditToolbar.Delete.js"></script>

    <script src="../link.js"></script>
    <link rel="stylesheet" href="../annunciator.css">
    <script src="../annunciator.js"></script>
    <script src="aircraft.js"></script>
    <script src="map.js"></script>
  </head>
  <body>
    <div id="mapid" style="width:100%; height:100%;"></div>
    <div id="annunciator_container">
      <div id="annunciator" class="control_box">
        <div id="sats" class="off">
          <div id="inner">0 sats</div>
        </div>
        <div id="ekf" class="off">
          <div id="inner">EKF</div>
        </div>
        <div id="volts" class="off">
          <div id="inner">0v</div>
        </div>
        <div id="battery" class="off">
          <div id="inner">0% batt</div>
        </div>
        <div id="timer" class="off">
          <div id="inner">0:00:00</div>
        </div>
        <div id="link" class="error">
          <div id="inner">Lost Link</div>
        </div>
        <div id="auto" class="off">
          <div id="inner">Manual</div>
        </div>
        <div id="wind" class="off">
          <div id="inner">000@0kt</div>
        </div>
        <div id="temp" class="off">
          <div id="inner">15C</div>
        </div>
        <div id="callsign" class="off">
          <div id="inner">callsign</div>
        </div>
      </div>
    </div>

    <script>
      $('#dialog-form').hide();
    </script>
    
    <!-- circle form -->
    <div id="circle-form" class="modal">
      <div class="modal-content">
        <span id="circle-close" class="close">&times;</span>
        <form>
          <div>
            <h1>Circle Here:</h1>
            <p>
              Direction:
              <input type="radio" required="" name="circle-dir" id="circle-dir-left" value="Left" checked>
              <label for="circle-dir-left">Left</label>
              <input type="radio" required="" name="circle-dir" id="circle-dir-right" value="Right">
              <label for="circle-dir-right">Right</label>
            </p>
            <p>
              <label for="circle-radius">Radius (m)</label>
              <input type="text" name="radius" id="circle-radius" value="100">
            </p>
            <p>
              <!-- Allow form submission with keyboard without duplicating the dialog button -->
              <button type="button" id="circle-form-submit">Submit</button>
            </p>
          </div>
        </form>
      </div>
    </div>
    
    <!-- move home form -->
    <div id="home-form" class="modal">
      <div class="modal-content">
        <span id="home-close" class="close">&times;</span>
        <form>
          <div>
            <h1>Position Home Here:</h1>
            <p>
              Home can have a direction (leave as zero if you don't care):
            </p>
            <p>
              <label for="home-az">Azimuth (0-359 deg)</label>
              <input type="text" name="azimuth" id="home-azimuth" value="0">
            </p>
            <p>
              <!-- Allow form submission with keyboard without duplicating the dialog button -->
              <button type="button" id="home-form-submit">Submit</button>
            </p>
          </div>
        </form>
      </div>
    </div>
    
    <!-- calibration form -->
    <div id="calibrate-form" class="modal">
      <div class="modal-content">
        <span id="calibrate-close" class="close">&times;</span>
        <form>
          <div>
            <h1>Calibrate Aircraft:</h1>
            <ul>
              <li>Sets home location to current aircraft location.</li>
              <li>Zeros airspeed.</li>
              <li>(Future: surveys ground altitude).</li>
            </ul>
            <p>Shield the pitot tube, click submit, then wait 10 seconds.</p>
            <p>Note: this command has no effect when airborne.</p>
            <p>
              <!-- Allow form submission with keyboard without duplicating the dialog button -->
              <button type="button" id="calibrate-form-submit">Submit</button>
            </p>
          </div>
        </form>
      </div>
    </div>

  </body>
</html>

<script>
  $('#dialog-form').hide();
  map_init();
  annunciator.init();
</script>
